---
title: "How to enable sphinx with Chinese support"
layout: "post"
permalink: "/2009/10/how-to-enable-sphinx-with-chinese.html"
---

<div class="css-full-post-content js-full-post-content">
Step1: Download CSFT server and Mmseg source package from Coreseek<br /><br />http://www.coreseek.com/<br /><br />Step2: Install mmseg<br /><br />      <span style="background-color: rgb(192, 192, 192);"><span style="background-color: rgb(192, 192, 192);"># tar zxf mmseg3_0b3.tar.gz</span><br /><span style="background-color: rgb(255, 255, 255);">      </span><span style="background-color: rgb(192, 192, 192);"># cd mmseg3_0b4;</span><br /><span style="background-color: rgb(255, 255, 255);">      </span><span style="background-color: rgb(192, 192, 192);"># ./configure –prefix=/Data/apps/mmseg</span></span> //choose install location as you wish<br />      <span style="background-color: rgb(192, 192, 192);"># make &amp;&amp; make install</span><br /><br />then type mmseg in terminal, you will see help information for mmseg<br /><br />      <span style="background-color: rgb(192, 192, 192);"><span style="background-color: rgb(192, 192, 192);"># mmseg</span></span><br /><br />Step3 : Install CSFT server<br /><br />　　<span style="background-color: rgb(192, 192, 192);"># tar zxf csft3_0b4.tar.gz</span><br />      <span style="background-color: rgb(192, 192, 192);"># cd csft3_0b3</span><br />      <span style="background-color: rgb(192, 192, 192);"># ./configure -prefix=/Data/apps/sphinx</span><br />      <span style="background-color: rgb(192, 192, 192);">-with-mysql=/Data/apps/mysql </span>       //mysql location<br /><span style="background-color: rgb(192, 192, 192);"><span style="background-color: rgb(255, 255, 255);">      </span>-with-mmseg=/Data/apps/mmseg<br /><span style="background-color: rgb(255, 255, 255);">      </span>-with-mmseg-includes=/Data/apps/mmseg/include/mmseg<br /><span style="background-color: rgb(255, 255, 255);">      </span>-with-mmseg-libs=/Data/apps/mmseg/lib/<br /><span style="background-color: rgb(255, 255, 255);">      </span>-with-mysql-includes=/Data/apps/mysql/include/mysql/<br /><span style="background-color: rgb(255, 255, 255);">      </span>-with-mysql-libs=/Data/apps/mysql/lib/mysql/<br /><span style="background-color: rgb(255, 255, 255);">      </span># make &amp;&amp; make install</span><br /><br />Step 4 compile and add Chinese dictionary to sphinx<br /><br />enter source package of mmseg :   in this case   mmseg.3.0b3/data/<br /><br /><span style="background-color: rgb(192, 192, 192);">#mmseg -u unigram.txt</span><br /><br />this command will create a file "unigram.txt.uni", rename this file to "uni.lib"<br /><br />Create a dictionary "dict" under /Data/apps/sphinx/var/, put file "uni.lib" under it<br /><br />Step 5 Configure sphinx.conf beneath  <span style="background-color: rgb(192, 192, 192);">/Data/apps/sphinx/etc</span><br /><br />2 lines need to be added in index part:<br /><br />charset_type= zh_CN.utf-8<br />charset_dictpath = /Data/apps/sphinx/etc<br /><br />Step 6: the following is regular steps, indexer --all, searchd and test the result<br /><br />-----------------------------------------------------------------------------------------------------------------------<br />Reference http://bbayou.blogbus.com/logs/44782777.html
</div>